"use strict";window.formValidation=window.formValidation||function(){var o={cssClassForm:"form-validate",cssClassErrorField:"has-error",cssClassErrorMessage:"form-error-message",cssClassHiddenMessage:"is-hidden",cssClassValidField:"is-valid",cssClassValidForm:"form-is-valid"},t=!1,a=[],d=function(e,r){(e.classList.add(o.cssClassErrorField),e.classList.remove(o.cssClassValidField),e.classList.add("had-error"),"radio"===e.type&&e.name)&&(e=i(e,"add").field);var s=e.id||e.name;if(s){var t=e.form.querySelector(".form-error-message#error-for-"+s);if(!t){(t=document.createElement("div")).className=o.cssClassErrorMessage,t.id="error-for-"+s,e.parentNode.insertBefore(t,e.nextSibling);var a=void 0;"radio"!==e.type&&"checkbox"!==e.type||(a=e.form.querySelector('label[for="'+s+'"]')||e.parentNode)&&a.parentNode.insertBefore(t,a.nextSibling),a||e.parentNode.insertBefore(t,e.nextSibling)}e.setAttribute("aria-describedby","error-for-"+s),t.innerHTML=r,t.classList.remove(o.cssClassHiddenMessage)}else console.log(e+" Please give each field element an id or name attribute")},i=function(e,r){var s=document.getElementsByName(e.name);if(0<s.length){for(var t=0;t<s.length;t++)s[t].form===e.form&&("remove"===r&&s[t].classList.remove(o.cssClassErrorField),"add"===r&&s[t].classList.add(o.cssClassErrorField));e=s[s.length-1]}return{field:e,action:r}},l=function(e){if(!e.disabled&&"file"!==e.type&&"reset"!==e.type&&"submit"!==e.type&&"button"!==e.type){var r=e.validity;if(!r.valid)return function(e,r){var s="";for(var t in r)!0===r[t]&&(s=e.getAttribute("data-validation-message-"+t)||(void 0!==v&&void 0!==v[t]&&""!==v[t]?v[t]:void 0!==e.validationMessage&&""!==e.validationMessage?e.validationMessage:"Something went wrong"));return s}(e,r)}},n=function(e){var r=e.target,s=r.form;if(s){var t=l(r);t?d(r,t):function(e){e.classList.remove(o.cssClassErrorField),e.classList.add(o.cssClassValidField),"radio"===e.type&&e.name&&(e=i(e,"remove").field);e.removeAttribute("aria-describedby");var r=e.id||e.name;if(r){var s=e.form.querySelector("."+o.cssClassErrorMessage+"#error-for-"+r);s&&(s.innerHTML="",s.classList.add(o.cssClassHiddenMessage))}}(r),c(s,!1)}},c=function(e){for(var r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],s=e.elements,t=!0,a=void 0,i=void 0,n=0;n<s.length;n++)(a=l(s[n]))&&(t=!1,r&&d(s[n],a),i||(i=s[n]));return t?e.classList.add(o.cssClassValidForm):e.classList.remove(o.cssClassValidForm),{isValid:t,firstErrorField:i}},f=function(e){var r=e.target,s=c(r);s.isValid||(e.preventDefault(),s.firstErrorField.focus()),e.preventDefault()},u=function(e){var r=e.querySelectorAll('[type="submit"], button:not([type])');[].slice.call(r).forEach(function(e){e.addEventListener("mousedown",s)})},s=function(){t=!0,document.addEventListener("mouseup",e)},e=function e(){document.removeEventListener("mouseup",e),a.forEach(function(e){n(e)})},v={},m=function(e,r){return-1<(" "+e.className+" ").indexOf(" "+r+" ")},r={settings:o,errorMessages:v};return document.addEventListener("DOMContentLoaded",function(){for(var e=document.querySelectorAll("."+o.cssClassForm),r=0;r<e.length;r++){var s=e[r];s.setAttribute("novalidate",!0),s.addEventListener("blur",function(e){t?a.push(e):n(e)},!0),s.addEventListener("click",function(e){"radio"!==e.target.type&&"checkbox"!==e.target.type||n(e)}),s.addEventListener("change",function(e){"select-one"!==e.target.type&&"date"!==e.target.type||n(e)}),u(s),s.addEventListener("submit",f,!1),s.addEventListener("keyup",function(e){m(e.target,"had-error")&&n(e)})}}),r}();