"use strict";window.formValidation=window.formValidation||function(){var n={cssClassForm:"form-validate",cssClassErrorField:"has-error",cssClassErrorMessage:"form-error-message",cssClassHiddenMessage:"is-hidden",cssClassValidField:"is-valid",cssClassValidForm:"form-is-valid"},d=function(e,r){(e.classList.add(n.cssClassErrorField),e.classList.remove(n.cssClassValidField),e.classList.add("had-error"),"radio"===e.type&&e.name)&&(e=i(e,"add").field);var s=e.id||e.name;if(s){var a=e.form.querySelector(".form-error-message#error-for-"+s);if(!a){(a=document.createElement("div")).className=n.cssClassErrorMessage,a.id="error-for-"+s,e.parentNode.insertBefore(a,e.nextSibling);var t=void 0;"radio"!==e.type&&"checkbox"!==e.type||(t=e.form.querySelector('label[for="'+s+'"]')||e.parentNode)&&t.parentNode.insertBefore(a,t.nextSibling),t||e.parentNode.insertBefore(a,e.nextSibling)}e.setAttribute("aria-describedby","error-for-"+s),a.innerHTML=r,a.classList.remove(n.cssClassHiddenMessage)}else console.log(e+" Please give each field element an id or name attribute")},i=function(e,r){var s=document.getElementsByName(e.name);if(0<s.length){for(var a=0;a<s.length;a++)s[a].form===e.form&&("remove"===r&&s[a].classList.remove(n.cssClassErrorField),"add"===r&&s[a].classList.add(n.cssClassErrorField));e=s[s.length-1]}return{field:e,action:r}},l=function(e){if(!e.disabled&&"file"!==e.type&&"reset"!==e.type&&"submit"!==e.type&&"button"!==e.type){var r=e.validity;if(!r.valid)return function(e,r){var s="";for(var a in r)!0===r[a]&&(s=e.getAttribute("data-validation-message-"+a)||(void 0!==c&&void 0!==c[a]&&""!==c[a]?c[a]:void 0!==e.validationMessage&&""!==e.validationMessage?e.validationMessage:"Something went wrong"));return s}(e,r)}},a=function(e){e.stopPropagation();var r=e.target,s=r.form;if(s){var a=l(r);a?d(r,a):function(e){e.classList.remove(n.cssClassErrorField),e.classList.add(n.cssClassValidField),"radio"===e.type&&e.name&&(e=i(e,"remove").field);e.removeAttribute("aria-describedby");var r=e.id||e.name;if(r){var s=e.form.querySelector("."+n.cssClassErrorMessage+"#error-for-"+r);s&&(s.innerHTML="",s.classList.add(n.cssClassHiddenMessage))}}(r),t(s,!1)}},t=function(e){for(var r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],s=e.elements,a=!0,t=void 0,i=void 0,o=0;o<s.length;o++)(t=l(s[o]))&&(a=!1,r&&d(s[o],t),i||(i=s[o]));return a?e.classList.add(n.cssClassValidForm):e.classList.remove(n.cssClassValidForm),{isValid:a,firstErrorField:i}},o=function(e){var r=e.target,s=t(r);s.isValid||(e.preventDefault(),s.firstErrorField.focus())},c={},f=function(e,r){return-1<(" "+e.className+" ").indexOf(" "+r+" ")},e={settings:n,errorMessages:c};return document.addEventListener("DOMContentLoaded",function(){for(var e=document.querySelectorAll("."+n.cssClassForm),r=0;r<e.length;r++){var s=e[r];s.setAttribute("novalidate",!0),s.addEventListener("blur",a,!0),s.addEventListener("click",function(e){"radio"!==e.target.type&&"checkbox"!==e.target.type||a(e)}),s.addEventListener("change",function(e){"select-one"!==e.target.type&&"date"!==e.target.type||a(e)}),s.addEventListener("submit",o,!1),s.addEventListener("keyup",function(e){f(e.target,"had-error")&&a(e)})}}),e}();