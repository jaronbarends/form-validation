"use strict";window.formValidation=window.formValidation||function(){var i={cssClassForm:"form-validate",cssClassErrorField:"has-error",cssClassErrorMessage:"form-error-message",cssClassHiddenMessage:"is-hidden",cssClassValidField:"is-valid"},o=function(e,r){(e.classList.add(i.cssClassErrorField),e.classList.add("had-error"),"radio"===e.type&&e.name)&&(e=n(e,"add").field);var s=e.id||e.name;if(s){var t=e.form.querySelector(".form-error-message#error-for-"+s);if(!t){(t=document.createElement("div")).className=i.cssClassErrorMessage,t.id="error-for-"+s,e.parentNode.insertBefore(t,e.nextSibling);var a=void 0;"radio"!==e.type&&"checkbox"!==e.type||(a=e.form.querySelector('label[for="'+s+'"]')||e.parentNode)&&a.parentNode.insertBefore(t,a.nextSibling),a||e.parentNode.insertBefore(t,e.nextSibling)}e.setAttribute("aria-describedby","error-for-"+s),t.innerHTML=r,t.classList.remove(i.cssClassHiddenMessage)}else console.log(e+" Please give each field element an id or name attribute")},n=function(e,r){var s=document.getElementsByName(e.name);if(0<s.length){for(var t=0;t<s.length;t++)s[t].form===e.form&&("remove"===r&&s[t].classList.remove(i.cssClassErrorField),"add"===r&&s[t].classList.add(i.cssClassErrorField));e=s[s.length-1]}return{field:e,action:r}},d=function(e){if(!e.disabled&&"file"!==e.type&&"reset"!==e.type&&"submit"!==e.type&&"button"!==e.type){var r=e.validity;if(!r.valid)return function(e,r){var s="";for(var t in r)!0===r[t]&&(s=e.getAttribute("data-validation-message-"+t)||(void 0!==a&&void 0!==a[t]&&""!==a[t]?a[t]:void 0!==e.validationMessage&&""!==e.validationMessage?e.validationMessage:"Something went wrong"));return s}(e,r)}},s=function(e){var r=e.target;if(r.form){if(!l(r.form,i.cssClassForm))return;var s=d(r);s?o(r,s):(r.classList.add(i.cssClassValidField),function(e){e.classList.remove(i.cssClassErrorField),"radio"===e.type&&e.name&&(e=n(e,"remove").field);e.removeAttribute("aria-describedby");var r=e.id||e.name;if(r){var s=e.form.querySelector("."+i.cssClassErrorMessage+"#error-for-"+r);s&&(s.innerHTML="",s.classList.add(i.cssClassHiddenMessage))}}(r))}},t=function(e){if(l(e.target,i.cssClassForm)){for(var r=e.target.elements,s=void 0,t=void 0,a=0;a<r.length;a++)(s=d(r[a]))&&(o(r[a],s),t||(t=r[a]));t&&(e.preventDefault(),t.focus())}},a={},l=function(e,r){return-1<(" "+e.className+" ").indexOf(" "+r+" ")},e={settings:i,errorMessages:a};return document.addEventListener("DOMContentLoaded",function(){for(var e=document.querySelectorAll("."+i.cssClassForm),r=0;r<e.length;r++)e[r].setAttribute("novalidate",!0);document.addEventListener("blur",s,!0),document.addEventListener("click",function(e){"radio"!==e.target.type&&"checkbox"!==e.target.type||s(e)}),document.addEventListener("change",function(e){"select-one"===e.target.type&&s(e)}),document.addEventListener("submit",t,!1),document.addEventListener("keyup",function(e){l(e.target,"had-error")&&s(e)})}),e}();